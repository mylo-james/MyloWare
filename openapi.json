{
  "openapi": "3.1.0",
  "info": {
    "title": "MyloWare API",
    "description": "Llama Stack-native multi-agent video production platform",
    "version": "0.1.0"
  },
  "paths": {
    "/health": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Health Check",
        "description": "Health check endpoint.",
        "operationId": "health_check_health_get",
        "parameters": [
          {
            "name": "deep",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "If true, also ping Llama Stack",
              "default": false,
              "title": "Deep"
            },
            "description": "If true, also ping Llama Stack"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/health/langgraph": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Langgraph Health",
        "description": "Check LangGraph checkpointer connectivity.",
        "operationId": "langgraph_health_health_langgraph_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health/db": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Db Health Check",
        "description": "Check database connectivity and migration status.\n\nReturns 200 if database is healthy, 503 otherwise.",
        "operationId": "db_health_check_health_db_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health/stuck-runs": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Get Stuck Runs Endpoint",
        "description": "Get runs that appear stuck in waiting states.\n\nArgs:\n    timeout_minutes: Minutes after which a waiting run is considered stuck\n\nReturns:\n    Dict with stuck run details",
        "operationId": "get_stuck_runs_endpoint_health_stuck_runs_get",
        "parameters": [
          {
            "name": "timeout_minutes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 60,
              "title": "Timeout Minutes"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Get Stuck Runs Endpoint Health Stuck Runs Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/health/cleanup-stuck-runs": {
      "post": {
        "tags": [
          "Health"
        ],
        "summary": "Cleanup Stuck Runs Endpoint",
        "description": "Timeout stuck runs that have been waiting too long.\n\nArgs:\n    timeout_minutes: Minutes after which a waiting run is considered stuck\n    dry_run: If True (default), only report what would be done\n\nReturns:\n    Dict with cleanup results",
        "operationId": "cleanup_stuck_runs_endpoint_health_cleanup_stuck_runs_post",
        "parameters": [
          {
            "name": "timeout_minutes",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 60,
              "title": "Timeout Minutes"
            }
          },
          {
            "name": "dry_run",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Dry Run"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Cleanup Stuck Runs Endpoint Health Cleanup Stuck Runs Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/health/full": {
      "get": {
        "tags": [
          "Health"
        ],
        "summary": "Full Health Check",
        "description": "Comprehensive health check including all dependencies.\n\nReturns 200 if all services are healthy, 503 if any are unhealthy.\nExposes degraded state (e.g., knowledge base failures) for monitoring.",
        "operationId": "full_health_check_health_full_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/v1/runs/{run_id}/feedback": {
      "post": {
        "tags": [
          "Feedback"
        ],
        "summary": "Submit feedback on a run",
        "description": "Submit thumbs-up (5) or thumbs-down (1) feedback on a workflow run.",
        "operationId": "create_feedback_v1_runs__run_id__feedback_post",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Run Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/FeedbackRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Feedback"
        ],
        "summary": "Get feedback for a run",
        "description": "Retrieve all feedback submitted for a specific run.",
        "operationId": "get_run_feedback_v1_runs__run_id__feedback_get",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FeedbackListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/runs/start": {
      "post": {
        "tags": [
          "Runs"
        ],
        "summary": "Start Run",
        "description": "Start a new workflow run.\n\nCreates a pending run and kicks off workflow execution in the background.\nReturns immediately with the run_id.",
        "operationId": "start_run_v1_runs_start_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/myloware__api__routes__runs__StartRunRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/myloware__api__routes__runs__StartRunResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/v1/runs/{run_id}": {
      "get": {
        "tags": [
          "Runs"
        ],
        "summary": "Get Run",
        "description": "Get run status and artifacts.",
        "operationId": "get_run_v1_runs__run_id__get",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RunDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/chat/supervisor": {
      "post": {
        "tags": [
          "chat"
        ],
        "summary": "Chat With Supervisor",
        "description": "Chat with Supervisor supervisor agent.",
        "operationId": "chat_with_supervisor_v1_chat_supervisor_post",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "stream",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Stream"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChatRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatResponseModel"
                }
              }
            }
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/telegram/webhook": {
      "post": {
        "tags": [
          "telegram"
        ],
        "summary": "Telegram Webhook",
        "description": "Receive and process Telegram webhook messages.",
        "operationId": "telegram_webhook_v1_telegram_webhook_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelegramWebhookResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/telegram/callback": {
      "post": {
        "tags": [
          "telegram"
        ],
        "summary": "Telegram Callback",
        "description": "Handle Telegram callback queries (inline button clicks).",
        "operationId": "telegram_callback_v1_telegram_callback_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CallbackResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/webhooks/sora": {
      "post": {
        "tags": [
          "webhooks"
        ],
        "summary": "Sora Webhook",
        "description": "Handle OpenAI video generation webhooks (Sora).\n\nOpenAI emits Standard Webhooks events like:\n  - type=\"video.completed\" with data.id=<video_id>\n  - type=\"video.failed\" with data.id=<video_id>\n\nWe look up the owning run_id via the per-run CLIP_MANIFEST mapping (task_id -> metadata),\nthen enqueue processing to workers (or process in-process) to download/transcode and\nresume LangGraph.\n\nSecurity layers:\n1. Signature verification (Standard Webhooks)\n2. Run ID resolution + validation (via stored manifest mapping)\n3. Task ID validation (matches submitted task)\n4. Idempotency (prevent duplicate processing)\n5. Payload validation (structure and content)",
        "operationId": "sora_webhook_v1_webhooks_sora_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebhookAck"
                }
              }
            }
          }
        }
      }
    },
    "/v1/webhooks/remotion": {
      "post": {
        "tags": [
          "webhooks"
        ],
        "summary": "Remotion Webhook",
        "description": "Handle Remotion render completion callbacks.\n\nRemotion service sends a callback when a render job completes. We persist the\nrendered video URL and advance the workflow to publish approval.",
        "operationId": "remotion_webhook_v1_webhooks_remotion_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RemotionWebhookResponse"
                }
              }
            }
          }
        }
      }
    },
    "/v1/media/video/{video_id}": {
      "head": {
        "tags": [
          "media"
        ],
        "summary": "Head Video",
        "description": "HEAD request for video - allows URL validation without downloading.",
        "operationId": "head_video_v1_media_video__video_id__head",
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Video Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "media"
        ],
        "summary": "Get Video",
        "description": "Proxy Remotion rendered videos through the tunnel.\n\nThis allows external services (like Upload-Post) to access\nlocally rendered videos via the public tunnel URL.",
        "operationId": "get_video_v1_media_video__video_id__get",
        "parameters": [
          {
            "name": "video_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Video Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/media/transcoded/{filename}": {
      "head": {
        "tags": [
          "media"
        ],
        "summary": "Head Transcoded Video",
        "description": "HEAD request for transcoded OpenAI Sora video.",
        "operationId": "head_transcoded_video_v1_media_transcoded__filename__head",
        "parameters": [
          {
            "name": "filename",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filename"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "media"
        ],
        "summary": "Get Transcoded Video",
        "description": "Serve transcoded OpenAI Sora videos.\n\nOpenAI Sora videos are transcoded to H.264/AAC on webhook receipt\nto ensure compatibility with Remotion's Chromium renderer.",
        "operationId": "get_transcoded_video_v1_media_transcoded__filename__get",
        "parameters": [
          {
            "name": "filename",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Filename"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v1/media/sora/{task_id}.mp4": {
      "head": {
        "tags": [
          "media"
        ],
        "summary": "Head Fake Sora Video",
        "description": "HEAD request for fake Sora result URLs.\n\nIn `SORA_PROVIDER=fake`, the webhook payload includes `resultUrls` pointing\nat this endpoint to mimic Sora hosting a downloadable MP4.",
        "operationId": "head_fake_sora_video_v1_media_sora__task_id__mp4_head",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "media"
        ],
        "summary": "Get Fake Sora Video",
        "description": "Serve fake Sora MP4s for contract-exact local runs.",
        "operationId": "get_fake_sora_video_v1_media_sora__task_id__mp4_get",
        "parameters": [
          {
            "name": "task_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Task Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/runs/start": {
      "post": {
        "tags": [
          "LangGraph Workflows"
        ],
        "summary": "Start Run",
        "description": "Start a new LangGraph workflow run.\n\nCreates a run in the database and starts the workflow graph.\nReturns immediately if the graph hits an interrupt (HITL or webhook wait).",
        "operationId": "start_run_v2_runs_start_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/myloware__api__routes__langgraph__StartRunRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/myloware__api__routes__langgraph__StartRunResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/v2/runs/{run_id}": {
      "get": {
        "tags": [
          "LangGraph Workflows"
        ],
        "summary": "Get Run",
        "description": "Get run status and artifacts (DB projection, not LangGraph state).",
        "operationId": "get_run_v2_runs__run_id__get",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RunDetailResponse"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Not Found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/runs/{run_id}/approve": {
      "post": {
        "tags": [
          "LangGraph Workflows"
        ],
        "summary": "Approve Interrupt",
        "description": "Approve an interrupt and resume workflow.\n\nUsed for HITL approval gates (ideation approval, publish approval).",
        "operationId": "approve_interrupt_v2_runs__run_id__approve_post",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApproveRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StateResponse"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Not Found"
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/runs/{run_id}/approve/hitl": {
      "post": {
        "tags": [
          "LangGraph Workflows"
        ],
        "summary": "Approve Hitl Gate",
        "description": "Explicit HITL approval endpoint (LangGraph).",
        "operationId": "approve_hitl_gate_v2_runs__run_id__approve_hitl_post",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ApproveRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StateResponse"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Not Found"
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/runs/{run_id}/resume": {
      "post": {
        "tags": [
          "LangGraph Workflows"
        ],
        "summary": "Resume Run Endpoint",
        "description": "Operator-only resume/rewind using existing artifacts (no automatic retries).",
        "operationId": "resume_run_endpoint_v2_runs__run_id__resume_post",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ResumeRunRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ResumeRunResponse"
                }
              }
            }
          },
          "400": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Bad Request"
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Not Found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/runs/{run_id}/reject": {
      "post": {
        "tags": [
          "LangGraph Workflows"
        ],
        "summary": "Reject Interrupt",
        "description": "Reject an interrupt and end workflow.",
        "operationId": "reject_interrupt_v2_runs__run_id__reject_post",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RejectRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StateResponse"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Not Found"
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/runs/{run_id}/state": {
      "get": {
        "tags": [
          "LangGraph Workflows"
        ],
        "summary": "Get State",
        "description": "Get current workflow state.",
        "operationId": "get_state_v2_runs__run_id__state_get",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StateResponse"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Not Found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/v2/runs/{run_id}/history": {
      "get": {
        "tags": [
          "LangGraph Workflows"
        ],
        "summary": "Get History",
        "description": "Get workflow checkpoint history (time-travel debugging).",
        "operationId": "get_history_v2_runs__run_id__history_get",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "run_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Run Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": true
                  },
                  "title": "Response Get History V2 Runs  Run Id  History Get"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Not Found"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/dlq": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "List Dead Letters",
        "description": "List dead letter queue entries.\n\nArgs:\n    source: Optional filter by source (\"sora\", \"remotion\")\n    unresolved_only: If True, only return unresolved entries\n\nReturns:\n    List of dead letter entries",
        "operationId": "list_dead_letters_admin_dlq_get",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "source",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Source"
            }
          },
          {
            "name": "unresolved_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": true,
              "title": "Unresolved Only"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeadLetterListResponse"
                }
              }
            }
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/dlq/{dead_letter_id}": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Get Dead Letter",
        "description": "Get a specific dead letter entry.\n\nArgs:\n    dead_letter_id: ID of the dead letter entry\n\nReturns:\n    Dead letter details including full payload",
        "operationId": "get_dead_letter_admin_dlq__dead_letter_id__get",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "dead_letter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Dead Letter Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeadLetterDetailResponse"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Not Found"
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/dlq/{dead_letter_id}/replay": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Replay Dead Letter",
        "description": "Replay a dead letter entry by re-processing the webhook.\n\nThis will attempt to process the stored webhook payload again,\nwhich may trigger the workflow continuation if the underlying issue is resolved.\n\nArgs:\n    dead_letter_id: ID of the dead letter entry to replay\n\nReturns:\n    Status of replay operation",
        "operationId": "replay_dead_letter_admin_dlq__dead_letter_id__replay_post",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "dead_letter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Dead Letter Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Replay Dead Letter Admin Dlq  Dead Letter Id  Replay Post"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Not Found"
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/dlq/{dead_letter_id}/resolve": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Resolve Dead Letter",
        "description": "Mark a dead letter as resolved.\n\nThis is useful when a dead letter has been manually handled\nor is no longer relevant.\n\nArgs:\n    dead_letter_id: ID of the dead letter entry to resolve\n\nReturns:\n    Status of resolution",
        "operationId": "resolve_dead_letter_admin_dlq__dead_letter_id__resolve_post",
        "security": [
          {
            "APIKeyHeader": []
          }
        ],
        "parameters": [
          {
            "name": "dead_letter_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Dead Letter Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Resolve Dead Letter Admin Dlq  Dead Letter Id  Resolve Post"
                }
              }
            }
          },
          "404": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Not Found"
          },
          "500": {
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            },
            "description": "Internal Server Error"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/admin/kb/reload": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Reload Knowledge Base",
        "description": "Reload knowledge base on-demand (honors unchanged manifest).",
        "operationId": "reload_knowledge_base_admin_kb_reload_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "additionalProperties": true,
                  "type": "object",
                  "title": "Response Reload Knowledge Base Admin Kb Reload Post"
                }
              }
            }
          }
        },
        "security": [
          {
            "APIKeyHeader": []
          }
        ]
      }
    },
    "/metrics": {
      "get": {
        "tags": [
          "Metrics"
        ],
        "summary": "Metrics",
        "description": "Expose Prometheus metrics.",
        "operationId": "metrics_metrics_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "ApproveRequest": {
        "properties": {
          "interrupt_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Interrupt Id",
            "description": "Optional interrupt id to resume (required when multiple interrupts are pending)."
          },
          "approved": {
            "type": "boolean",
            "title": "Approved",
            "description": "Whether to approve"
          },
          "comment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comment",
            "description": "Optional approval comment"
          },
          "data": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Data",
            "description": "Additional data for resume"
          }
        },
        "type": "object",
        "required": [
          "approved"
        ],
        "title": "ApproveRequest",
        "description": "Request to approve an interrupt."
      },
      "CallbackResponse": {
        "properties": {
          "ok": {
            "type": "boolean",
            "title": "Ok"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "ok"
        ],
        "title": "CallbackResponse"
      },
      "ChatRequest": {
        "properties": {
          "user_id": {
            "type": "string",
            "title": "User Id"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "user_id",
          "message"
        ],
        "title": "ChatRequest"
      },
      "ChatResponseModel": {
        "properties": {
          "response": {
            "type": "string",
            "title": "Response"
          },
          "run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Run Id"
          },
          "actions_taken": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Actions Taken",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "response"
        ],
        "title": "ChatResponseModel"
      },
      "DeadLetterDetailResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "source": {
            "type": "string",
            "title": "Source"
          },
          "run_id": {
            "type": "string",
            "title": "Run Id"
          },
          "payload": {
            "additionalProperties": true,
            "type": "object",
            "title": "Payload"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "attempts": {
            "type": "integer",
            "title": "Attempts"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "last_attempt_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Attempt At"
          },
          "resolved_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resolved At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "source",
          "run_id",
          "payload",
          "error",
          "attempts",
          "created_at",
          "last_attempt_at",
          "resolved_at"
        ],
        "title": "DeadLetterDetailResponse",
        "description": "Response for dead letter detail."
      },
      "DeadLetterListItem": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "source": {
            "type": "string",
            "title": "Source"
          },
          "run_id": {
            "type": "string",
            "title": "Run Id"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "attempts": {
            "type": "integer",
            "title": "Attempts"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "last_attempt_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Attempt At"
          },
          "resolved_at": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Resolved At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "source",
          "run_id",
          "error",
          "attempts",
          "created_at",
          "last_attempt_at",
          "resolved_at"
        ],
        "title": "DeadLetterListItem",
        "description": "Dead letter queue entry for list view."
      },
      "DeadLetterListResponse": {
        "properties": {
          "dead_letters": {
            "items": {
              "$ref": "#/components/schemas/DeadLetterListItem"
            },
            "type": "array",
            "title": "Dead Letters"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          }
        },
        "type": "object",
        "required": [
          "dead_letters",
          "count"
        ],
        "title": "DeadLetterListResponse",
        "description": "Response for dead letter list."
      },
      "ErrorResponse": {
        "properties": {
          "error": {
            "type": "string",
            "title": "Error",
            "description": "Machine-readable error code"
          },
          "detail": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Detail",
            "description": "Human-readable or structured error detail"
          }
        },
        "type": "object",
        "required": [
          "error"
        ],
        "title": "ErrorResponse"
      },
      "FeedbackListResponse": {
        "properties": {
          "feedback": {
            "items": {
              "$ref": "#/components/schemas/FeedbackResponse"
            },
            "type": "array",
            "title": "Feedback"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          }
        },
        "type": "object",
        "required": [
          "feedback",
          "count"
        ],
        "title": "FeedbackListResponse",
        "description": "Response listing feedback for a run."
      },
      "FeedbackRequest": {
        "properties": {
          "artifact_id": {
            "anyOf": [
              {
                "type": "string",
                "format": "uuid"
              },
              {
                "type": "null"
              }
            ],
            "title": "Artifact Id",
            "description": "Optional specific artifact being rated"
          },
          "rating": {
            "type": "integer",
            "enum": [
              1,
              5
            ],
            "title": "Rating",
            "description": "Rating: 1 (thumbs down) or 5 (thumbs up)"
          },
          "comment": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 2000
              },
              {
                "type": "null"
              }
            ],
            "title": "Comment",
            "description": "Optional text feedback"
          }
        },
        "type": "object",
        "required": [
          "rating"
        ],
        "title": "FeedbackRequest",
        "description": "Request to create feedback on a run or artifact."
      },
      "FeedbackResponse": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id"
          },
          "run_id": {
            "type": "string",
            "title": "Run Id"
          },
          "artifact_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Artifact Id"
          },
          "rating": {
            "type": "integer",
            "title": "Rating"
          },
          "comment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comment"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "run_id",
          "artifact_id",
          "rating",
          "comment",
          "created_at"
        ],
        "title": "FeedbackResponse",
        "description": "Response after creating feedback."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "HealthResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "version": {
            "type": "string",
            "title": "Version"
          },
          "degraded_mode": {
            "type": "boolean",
            "title": "Degraded Mode",
            "default": false
          },
          "provider_modes": {
            "additionalProperties": {
              "type": "string"
            },
            "type": "object",
            "title": "Provider Modes"
          },
          "knowledge_base_healthy": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Knowledge Base Healthy"
          },
          "shields_available": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Shields Available"
          },
          "vector_db_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vector Db Id"
          },
          "render_sandbox_enabled": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Render Sandbox Enabled"
          },
          "llama_stack_reachable": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Llama Stack Reachable"
          },
          "llama_stack_models": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Llama Stack Models"
          },
          "llama_stack_error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Llama Stack Error"
          },
          "llama_stack_circuit": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Llama Stack Circuit",
            "description": "Circuit breaker state: closed, open, or half_open"
          }
        },
        "type": "object",
        "required": [
          "status",
          "version"
        ],
        "title": "HealthResponse"
      },
      "RejectRequest": {
        "properties": {
          "interrupt_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Interrupt Id",
            "description": "Optional interrupt id to resume (required when multiple interrupts are pending)."
          },
          "comment": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Comment",
            "description": "Rejection reason"
          }
        },
        "type": "object",
        "title": "RejectRequest",
        "description": "Request to reject an interrupt."
      },
      "RemotionWebhookResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Run Id"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "output_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Output Url"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "RemotionWebhookResponse"
      },
      "ResumeRunRequest": {
        "properties": {
          "action": {
            "type": "string",
            "title": "Action",
            "description": "Resume action: auto|videos|render|publish|repair-render|repair-videos|fork-from-clips. auto selects based on current run status.",
            "default": "auto"
          },
          "approve_publish": {
            "type": "boolean",
            "title": "Approve Publish",
            "description": "Required to advance publish gate when action=publish or auto hits publish gate.",
            "default": false
          },
          "force": {
            "type": "boolean",
            "title": "Force",
            "description": "Allow resume even if run status is not normally replayable.",
            "default": false
          },
          "checkpoint_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Checkpoint Id",
            "description": "Optional checkpoint_id for fork-from-clips action."
          },
          "video_indexes": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Indexes",
            "description": "Optional 0-based indexes to repair when action=repair-videos."
          }
        },
        "type": "object",
        "title": "ResumeRunRequest",
        "description": "Request to resume or rewind a run using existing artifacts."
      },
      "ResumeRunResponse": {
        "properties": {
          "run_id": {
            "type": "string",
            "title": "Run Id"
          },
          "workflow_name": {
            "type": "string",
            "title": "Workflow Name"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "current_step": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Step"
          },
          "artifacts": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Artifacts"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          },
          "action": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Action"
          },
          "message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "run_id",
          "workflow_name",
          "status"
        ],
        "title": "ResumeRunResponse"
      },
      "RunDetailResponse": {
        "properties": {
          "run_id": {
            "type": "string",
            "title": "Run Id"
          },
          "workflow_name": {
            "type": "string",
            "title": "Workflow Name"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "current_step": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Current Step"
          },
          "artifacts": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Artifacts"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "run_id",
          "workflow_name",
          "status"
        ],
        "title": "RunDetailResponse"
      },
      "StateResponse": {
        "properties": {
          "state": {
            "additionalProperties": true,
            "type": "object",
            "title": "State"
          },
          "next": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next"
          },
          "interrupts": {
            "anyOf": [
              {
                "items": {
                  "additionalProperties": true,
                  "type": "object"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Interrupts"
          }
        },
        "type": "object",
        "required": [
          "state"
        ],
        "title": "StateResponse",
        "description": "Response with workflow state."
      },
      "TelegramWebhookResponse": {
        "properties": {
          "ok": {
            "type": "boolean",
            "title": "Ok"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status"
          },
          "reason": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reason"
          }
        },
        "type": "object",
        "required": [
          "ok"
        ],
        "title": "TelegramWebhookResponse"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "WebhookAck": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "run_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Run Id"
          },
          "task_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Task Id"
          },
          "video_index": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Index"
          },
          "video_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Video Url"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "status"
        ],
        "title": "WebhookAck"
      },
      "myloware__api__routes__langgraph__StartRunRequest": {
        "properties": {
          "workflow": {
            "type": "string",
            "maxLength": 64,
            "pattern": "^[a-z0-9_]+$",
            "title": "Workflow",
            "description": "Workflow/project name",
            "default": "aismr"
          },
          "brief": {
            "type": "string",
            "maxLength": 10000,
            "title": "Brief",
            "description": "User's brief/prompt"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 128
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id",
            "description": "Optional user identifier"
          },
          "telegram_chat_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Telegram Chat Id",
            "description": "Optional Telegram chat ID"
          }
        },
        "type": "object",
        "required": [
          "brief"
        ],
        "title": "StartRunRequest",
        "description": "Request to start a new LangGraph workflow run."
      },
      "myloware__api__routes__langgraph__StartRunResponse": {
        "properties": {
          "run_id": {
            "type": "string",
            "title": "Run Id"
          },
          "thread_id": {
            "type": "string",
            "title": "Thread Id"
          },
          "state": {
            "additionalProperties": true,
            "type": "object",
            "title": "State"
          },
          "interrupt": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Interrupt"
          }
        },
        "type": "object",
        "required": [
          "run_id",
          "thread_id",
          "state"
        ],
        "title": "StartRunResponse",
        "description": "Response from starting a workflow."
      },
      "myloware__api__routes__runs__StartRunRequest": {
        "properties": {
          "project": {
            "type": "string",
            "maxLength": 64,
            "pattern": "^[a-z0-9_]+$",
            "title": "Project",
            "description": "Workflow/project name",
            "default": "aismr"
          },
          "brief": {
            "type": "string",
            "maxLength": 10000,
            "title": "Brief",
            "description": "User's brief/prompt"
          },
          "user_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 128
              },
              {
                "type": "null"
              }
            ],
            "title": "User Id",
            "description": "Optional user identifier"
          },
          "telegram_chat_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 64
              },
              {
                "type": "null"
              }
            ],
            "title": "Telegram Chat Id",
            "description": "Optional Telegram chat ID"
          }
        },
        "type": "object",
        "required": [
          "brief"
        ],
        "title": "StartRunRequest",
        "description": "Request to start a new workflow run."
      },
      "myloware__api__routes__runs__StartRunResponse": {
        "properties": {
          "run_id": {
            "type": "string",
            "title": "Run Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          }
        },
        "type": "object",
        "required": [
          "run_id",
          "status"
        ],
        "title": "StartRunResponse"
      }
    },
    "securitySchemes": {
      "APIKeyHeader": {
        "type": "apiKey",
        "in": "header",
        "name": "X-API-Key"
      }
    }
  }
}
